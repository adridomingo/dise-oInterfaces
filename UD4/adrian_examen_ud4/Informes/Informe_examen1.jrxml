<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="Informe_examen1" language="java" pageWidth="595" pageHeight="842" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="db786e11-ac0e-4f4c-a804-acedd153f312">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="New Data Adapter"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="Table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
			<topPen lineWidth="0.5" lineColor="#000000"/>
			<leftPen lineWidth="0.5" lineColor="#000000"/>
			<bottomPen lineWidth="0.5" lineColor="#000000"/>
			<rightPen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<dataset name="TablaProveedor" uuid="853166d7-e447-4528-95f8-8c60b39d2055">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Examen"/>
		<query language="SQL"><![CDATA[select  p2.Proveedor, SUM((p.Unidades*p.Precio)*1.21) AS TotalVentasconIVA  from productos p join examen.tipos t on (p.Tipo=t.Id) join examen.proveedores p2 on(p.Proveedor=p2.Id) where (p.Proveedor=p2.Id) group by p2.Proveedor;]]></query>
		<field name="Proveedor" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="Proveedor"/>
			<property name="com.jaspersoft.studio.field.label" value="Proveedor"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="proveedores"/>
		</field>
		<field name="TotalVentasconIVA" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.name" value="TotalVentasconIVA"/>
			<property name="com.jaspersoft.studio.field.label" value="TotalVentasconIVA"/>
		</field>
	</dataset>
	<dataset name="TablaTipo" uuid="51dcc0b2-d812-4313-ad8a-131342e146ed">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="Examen"/>
		<query language="SQL"><![CDATA[select  t.Tipo, SUM((p.Unidades*p.Precio)*1.21) AS TotalVentasconIVA  from productos p join examen.tipos t on (p.Tipo=t.Id) join examen.proveedores p2 on(p.Proveedor=p2.Id) where (p.Proveedor=p2.Id) group by t.Tipo;]]></query>
		<field name="Tipo" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="Tipo"/>
			<property name="com.jaspersoft.studio.field.label" value="Tipo"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="tipos"/>
		</field>
		<field name="TotalVentasconIVA" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.name" value="TotalVentasconIVA"/>
			<property name="com.jaspersoft.studio.field.label" value="TotalVentasconIVA"/>
		</field>
	</dataset>
	<parameter name="tipo" class="java.lang.String"/>
	<parameter name="imagen" class="java.lang.String"/>
	<query language="SQL"><![CDATA[select  p.Nombre, p.Unidades, t.Tipo, p2.Proveedor from productos p join examen.tipos t on (p.Tipo=t.Id) join examen.proveedores p2 on(p.Proveedor=p2.Id) where t.Tipo=$P{tipo} ;]]></query>
	<field name="Nombre" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="Nombre"/>
		<property name="com.jaspersoft.studio.field.label" value="Nombre"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="productos"/>
	</field>
	<field name="Unidades" class="java.lang.Integer">
		<property name="com.jaspersoft.studio.field.name" value="Unidades"/>
		<property name="com.jaspersoft.studio.field.label" value="Unidades"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="productos"/>
	</field>
	<field name="Tipo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="Tipo"/>
		<property name="com.jaspersoft.studio.field.label" value="Tipo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="tipos"/>
	</field>
	<field name="Proveedor" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="Proveedor"/>
		<property name="com.jaspersoft.studio.field.label" value="Proveedor"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="proveedores"/>
	</field>
	<background splitType="Stretch"/>
	<title height="117" splitType="Stretch">
		<element kind="image" uuid="7126c536-1195-44f8-b40f-0609538cdec0" x="40" y="11" width="60" height="60">
			<expression><![CDATA[$P{imagen}]]></expression>
		</element>
		<element kind="staticText" uuid="4407cf0b-14c1-46b4-855b-9843fe08210c" x="190" y="10" width="330" height="90" fontSize="32.0" bold="true">
			<text><![CDATA[Listado productos por tipo con totales]]></text>
		</element>
	</title>
	<pageHeader height="35" splitType="Stretch"/>
	<columnHeader height="32" splitType="Stretch">
		<element kind="staticText" uuid="6035a9bd-6855-4289-8ec4-396fd9c14c30" x="0" y="0" width="141" height="20">
			<text><![CDATA[Nombre]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e47f599b-4153-41cb-8514-1717811771b7"/>
		</element>
		<element kind="staticText" uuid="9b9d911c-6f75-4aa2-90d2-b2523523be56" x="140" y="0" width="138" height="20">
			<text><![CDATA[Unidades]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="1e88c5bc-6d3e-4812-893a-edf8b6aa6ecc"/>
		</element>
		<element kind="staticText" uuid="38fadb52-d594-4a31-a673-60129a323d55" x="279" y="0" width="138" height="20">
			<text><![CDATA[Tipo]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="acdfe04c-0eee-472b-900e-64eab282e186"/>
		</element>
		<element kind="staticText" uuid="56b09c14-ba5e-4b59-bec7-f24232dc9ea4" x="417" y="0" width="138" height="20">
			<text><![CDATA[Proveedor]]></text>
			<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f440d172-c62f-488e-b137-bb58dbd549be"/>
		</element>
	</columnHeader>
	<detail>
		<band height="31" splitType="Stretch">
			<element kind="textField" uuid="3cb934b0-ade0-46be-94c0-4d5c3af58752" x="0" y="0" width="141" height="20">
				<expression><![CDATA[$F{Nombre}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="e47f599b-4153-41cb-8514-1717811771b7"/>
			</element>
			<element kind="textField" uuid="d8eeff70-96d9-4014-9a53-2c22e1e02679" x="141" y="0" width="138" height="20">
				<expression><![CDATA[$F{Unidades} >= 1 ? $F{Unidades} : "Sin Stock"]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="1e88c5bc-6d3e-4812-893a-edf8b6aa6ecc"/>
			</element>
			<element kind="textField" uuid="cb104fc6-d5b5-4b9c-8980-e200a0cd2de7" x="279" y="0" width="138" height="20">
				<expression><![CDATA[$F{Tipo}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="acdfe04c-0eee-472b-900e-64eab282e186"/>
			</element>
			<element kind="textField" uuid="a1d0f72f-0274-4604-9fd1-4e85acd65939" x="417" y="0" width="138" height="20">
				<expression><![CDATA[$F{Proveedor}]]></expression>
				<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f440d172-c62f-488e-b137-bb58dbd549be"/>
			</element>
		</band>
	</detail>
	<columnFooter height="45" splitType="Stretch"/>
	<pageFooter height="54" splitType="Stretch"/>
	<summary height="148" splitType="Stretch">
		<element kind="component" uuid="de4ca692-b07d-41fa-b186-068fe62d67e3" x="0" y="20" width="200" height="60">
			<component kind="table">
				<datasetRun uuid="0e874479-f3ac-46b3-aa75-c4bbe185b7f7" subDataset="TablaProveedor">
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				</datasetRun>
				<column kind="single" uuid="6713da31-d94a-4f07-ab3d-722a248586b5" width="100">
					<columnHeader height="30" style="Table_CH">
						<element kind="staticText" uuid="79246df4-437e-4bf6-adde-0d51ee42010a" x="0" y="0" width="100" height="30">
							<text><![CDATA[Proveedor]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table_TD">
						<element kind="textField" uuid="502be74b-7be8-4bc7-a40e-d1039db7e321" x="0" y="0" width="100" height="30">
							<expression><![CDATA[$F{Proveedor}]]></expression>
						</element>
					</detailCell>
					<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
				</column>
				<column kind="single" uuid="d9237cf8-3cc8-48d9-b28e-4c5bb0dc6db0" width="100">
					<columnHeader height="30" style="Table_CH">
						<element kind="staticText" uuid="42591e09-8217-4933-a6fa-f0a53b173bd2" x="0" y="0" width="100" height="30">
							<text><![CDATA[TotalVentasconIVA]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table_TD">
						<element kind="textField" uuid="80b177b9-f008-405f-b9ef-1f6637a98e6f" x="0" y="0" width="100" height="30" pattern="#,000.00 €">
							<expression><![CDATA[$F{TotalVentasconIVA}]]></expression>
						</element>
					</detailCell>
					<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
				</column>
			</component>
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
			<property name="com.jaspersoft.studio.table.style.table_header" value="Table_TH"/>
			<property name="com.jaspersoft.studio.table.style.column_header" value="Table_CH"/>
			<property name="com.jaspersoft.studio.table.style.detail" value="Table_TD"/>
		</element>
		<element kind="component" uuid="60191fa7-a308-4bba-8f4d-ccbefcc9c1de" x="280" y="22" width="200" height="57">
			<component kind="table">
				<datasetRun uuid="240a3948-16ed-4fff-ac78-3ae88aea4d91" subDataset="TablaTipo">
					<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				</datasetRun>
				<column kind="single" uuid="92faedc2-d3bc-40b4-bf5d-f1d9ce609475" width="100">
					<columnHeader height="30" rowSpan="1" style="Table 1_CH">
						<element kind="staticText" uuid="39cb17eb-ed5a-4acc-a34c-cee75e5ca155" x="0" y="0" width="100" height="30">
							<text><![CDATA[Tipo]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table 1_TD">
						<element kind="textField" uuid="660dcbbc-9b18-4972-80d6-6fa8792c4722" x="0" y="0" width="100" height="30">
							<expression><![CDATA[$F{Tipo}]]></expression>
						</element>
					</detailCell>
					<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
				</column>
				<column kind="single" uuid="9171ae56-ef4a-4155-904f-e84d1092fa07" width="100">
					<columnHeader height="30" rowSpan="1" style="Table 1_CH">
						<element kind="staticText" uuid="d9d70b59-f8fe-401b-9ef6-c0f7a2cd8e21" x="0" y="0" width="100" height="30">
							<text><![CDATA[TotalVentasconIVA]]></text>
						</element>
					</columnHeader>
					<detailCell height="30" style="Table 1_TD">
						<element kind="textField" uuid="cc98f1d0-af98-454e-914b-d073d9b04174" x="0" y="0" width="100" height="30" pattern="#,000.00 €">
							<expression><![CDATA[$F{TotalVentasconIVA}]]></expression>
						</element>
					</detailCell>
					<property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
				</column>
			</component>
			<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
			<property name="com.jaspersoft.studio.table.style.table_header" value="Table 1_TH"/>
			<property name="com.jaspersoft.studio.table.style.column_header" value="Table 1_CH"/>
			<property name="com.jaspersoft.studio.table.style.detail" value="Table 1_TD"/>
		</element>
	</summary>
</jasperReport>
